!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);var o=function(){var e=document.createElement("div"),t=document.createElement("div");return e.setAttribute("class","input-wrapp"),t.setAttribute("class","button-search"),e.appendChild(t),e.appendChild(function(){var e=document.createElement("input");return e.setAttribute("type","text"),e.setAttribute("name","search-elems"),e.setAttribute("id","input-id"),e.setAttribute("placeholder","Find YouTube video here"),e.classList.add("search","focus-off"),e}()),e}();function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(t,n){a(this,e),this.card=t,this.innerCard='\n      <header class="card__header" style="background-image: url('.concat(n.bgImg,')">\n        <h3 class="card__video-name name-video">\n          <a href="https://youtu.be/').concat(n.id,'" class="name-video__link" target="_blank">\n            <span class="name-video__text">').concat(n.videoName,'</span>\n          </a>\n        </h3> \n      </header>\n  \n      <section class="card__main-info main-inf">\n        <p class="main-inf__channel-title">').concat(n.channelTitle,'</p>\n        <p class="main-inf__date">').concat(n.published,'</p>\n        <p class="main-inf__views">').concat(n.viewCount,'</p>\n      </section>\n  \n      <footer class="card__footer">\n        <p class="card__descr-video">').concat(n.description,"</p>\n      </footer>\n    ")}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(e,[{key:"buildCard",value:function(){return this.card.setAttribute("class","card"),this.card.innerHTML=this.innerCard,this.card}}]),e}(),d=function(e){function t(e){a(this,t);var n=document.createElement("div");return r(this,s(t).call(this,n,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,l),t}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}var w=function(){function e(t){h(this,e),this.xhr=t,this.apiKey="AIzaSyDu3RDVh9E70T05r5sL57juaogYiyuGymA",this.method="GET",this.url="googleapis.com/youtube/v3/"}return b(e,[{key:"start",value:function(e){e.q&&e.pToken?this.xhr.open(this.method,"https://www.".concat(this.url).concat(e.typeRequest,"?part=snippet&maxResults=").concat(e.maxResult,"&order=").concat(e.order,"&pageToken=").concat(e.pToken,"&q=").concat(e.q,"&type=").concat(e.type,"&fields=items(id%2FvideoId%2Csnippet(channelTitle%2Cdescription%2CpublishedAt%2Cthumbnails%2Fmedium%2Furl%2Ctitle))%2CnextPageToken&key=").concat(this.apiKey)):e.q?this.xhr.open(this.method,"https://www.".concat(this.url).concat(e.typeRequest,"?part=snippet&maxResults=").concat(e.maxResult,"&order=").concat(e.order,"&q=").concat(e.q,"&type=").concat(e.type,"&fields=items(id%2FvideoId%2Csnippet(channelTitle%2Cdescription%2CpublishedAt%2Cthumbnails%2Fmedium%2Furl%2Ctitle))%2CnextPageToken&key=").concat(this.apiKey)):this.xhr.open(this.method,"https://www.".concat(this.url).concat(e.typeRequest,"?part=snippet%2CcontentDetails%2Cstatistics&id=").concat(e.id,"&fields=items(id%2Cstatistics%2FviewCount)&key=").concat(this.apiKey))}},{key:"push",value:function(){this.xhr.send()}}]),e}(),_=function(e){function t(){h(this,t);var e=new XMLHttpRequest;return p(this,m(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,w),b(t,[{key:"startRequest",value:function(e){return this.start(e),this.push(),this.xhr}}]),t}();function g(){var e=Math.ceil(-document.querySelector(".card-wrap").offsetLeft/document.querySelector(".slider").offsetWidth+1);document.querySelector(".btn__indicate").innerHTML=e}var L=function e(t){var n={maxResult:"16",q:document.querySelector(".search").value,typeRequest:"search",order:"relevance",type:"video",pToken:t},o=new _;(o=o.startRequest(n)).onload=function(){var t=JSON.parse(o.responseText);e.pageToken=t.nextPageToken;for(var n=[],i=0;i<t.items.length;i+=1)n.push(t.items[i].id.videoId);var r={id:n=n.join(","),typeRequest:"videos"},s=new _;(s=s.startRequest(r)).onload=function(){for(var e=JSON.parse(s.responseText),n={},o=0;o<e.items.length;o+=1)n.bgImg=t.items[o].snippet.thumbnails.medium.url,n.videoName=t.items[o].snippet.title,n.channelTitle=t.items[o].snippet.channelTitle,n.published=t.items[o].snippet.publishedAt.substr(0,10),n.description=t.items[o].snippet.description,e.items[o].id===t.items[o].id.videoId?(n.id=t.items[o].id.videoId,n.viewCount=e.items[o].statistics.viewCount):n.viewCount="Seen",document.querySelector(".card-wrap").appendChild(new d(n).buildCard()),o===e.items.length-1&&(document.querySelector(".btn-nav").style.opacity="1");g()}}};var E=function e(){var t,n,o,i,r=document.querySelector(".slider"),s=document.querySelector(".card-wrap"),c=document.body;function a(e){return{left:e.getBoundingClientRect().left}}function u(i){var a=i.pageX||i.changedTouches[0].pageX;parseFloat(s.style.left)>=10?s.style.left="".concat(10,"px"):(s.style.left="".concat(a-(t+n),"px"),function(t){var n=r.offsetWidth,i=parseFloat(s.style.left);if(-(s.offsetWidth-r.offsetWidth)>s.offsetLeft)e.leftPosition=-(s.offsetWidth-r.offsetWidth);else if(1440===n)if(i>-150&&i<-10&&-360===e.leftPosition||i>-20&&i<-10&&-720===e.leftPosition||i>-120&&i<-100&&-1440===e.leftPosition)e.leftPosition=0;else if(t-o<-200)e.leftPosition-=1440;else{if(!(t-o>200))return;e.leftPosition+=1440}else if(720===n)if(i>-20&&i<-10&&-360===e.leftPosition)e.leftPosition=0;else if(t-o<-80)e.leftPosition-=720;else{if(!(t-o>80))return;e.leftPosition+=720}else if(t-o<-80)e.leftPosition-=360;else{if(!(t-o>80))return;e.leftPosition+=360}s.style.left="".concat(e.leftPosition,"px"),c.removeEventListener("mousemove",u),c.removeEventListener("mouseup",d),c.removeEventListener("mouseleave",l),c.removeEventListener("touchmove",u),c.removeEventListener("touchend",d),c.removeEventListener("touchleave",l),parseFloat(s.style.left)>0&&(e.leftPosition=0,s.style.left="".concat(0,"px")),setTimeout(g,500),document.querySelector(".card-wrap").offsetWidth+document.querySelector(".card-wrap").offsetLeft<=3*document.querySelector(".slider").offsetWidth&&L(L.pageToken)}(a))}function l(){c.removeEventListener("mousemove",u),c.removeEventListener("mouseup",d),c.removeEventListener("touchmove",u),c.removeEventListener("touchend",d),s.style.left=i}function d(){s.style.left=i,c.removeEventListener("mousemove",u),c.removeEventListener("mouseleave",l),c.removeEventListener("touchmove",u),c.removeEventListener("touchleave",l)}e.leftPosition=0,s.addEventListener("mousedown",function(e){n=a(r).left,t=e.pageX-a(s).left,o=e.pageX,i=s.style.left,c.addEventListener("mousemove",u),c.addEventListener("mouseup",d),c.addEventListener("mouseleave",l)}),s.addEventListener("touchstart",function(e){n=a(r).left,t=e.pageX-a(s).left,o=e.changedTouches[0].pageX,i=s.style.left,c.addEventListener("touchmove",u),c.addEventListener("touchend",d),c.addEventListener("touchleave",l)}),window.addEventListener("resize",g)};window.onload=function(){document.body.appendChild(o);var e=document.createElement("div");e.classList.add("slider");var t=document.createElement("div");t.classList.add("card-wrap"),e.setAttribute("onmousedown","return false"),e.setAttribute("onselectstart","return false"),t.style.cursor="pointer",e.appendChild(t),document.body.appendChild(e);var n,i=document.querySelector(".button-search"),r=document.querySelector(".card-wrap"),s=document.querySelector(".search"),c=[9,16,17,18,20,27,33,34,35,36,37,38,39,40,44,45,46,80,91,173,174,175];function a(){L.pageToken="",r.innerHTML="",E.leftPosition=0,t.style.left="".concat(0,"px"),L()}s.addEventListener("focus",function(){this.classList.remove("focus-off"),this.classList.add("focus-on")}),s.addEventListener("blur",function(){this.classList.remove("focus-on"),this.classList.add("focus-off")}),s.addEventListener("keyup",function(e){-1===c.indexOf(e.keyCode)&&(clearTimeout(n),s.value?n=setTimeout(a,1e3):(L.pageToken="",r.innerHTML="",E.leftPosition=0,t.style.left="".concat(0,"px"),document.querySelector(".btn-nav").style.opacity="0"))}),s.addEventListener("keydown",function(){clearTimeout(n)}),i.addEventListener("click",function(){L(L.pageToken)}),E(),function(){var e=document.createElement("div");e.classList.add("btn-nav"),e.style.opacity="0";for(var t=0;t<5;t+=1){var n=document.createElement("div");if(n.classList.add("btn-nav__btn"),e.appendChild(n),2===t){var o=document.createElement("div");o.classList.add("btn__indicate"),n.appendChild(o)}}document.body.appendChild(e)}()}},function(e,t){}]);
//# sourceMappingURL=main.js.map